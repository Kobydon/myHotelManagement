<div class="container"  *blockUI="'loading'">
    <!-- Form to select term, year, and date range for report -->
    <form [formGroup]="createForm">
      <!-- <label for="term">Term:</label>
      <select id="term" formControlName="term" class="form-control">
       <option value="" hidden selected>--------------</option>
       <option value="1">1</option>
       <option value="2">2</option>
       <option value="3">3</option>
      </select>
   -->
      <!-- <label for="year">Year:</label>
      <select  formControlName="year" class="form-control">
        <option value="" hidden selected>--------------</option>
        <option *ngFor="let itm of academicList" value="{{itm.year}}">{{itm.year}}</option>
        
       </select> -->
      <label for="dates">Date Range:</label>
      <input type="date" class="form-control" formControlName="dates" (ngModelChange)="searchDates()" style="width: 40%;">
    </form>
  
    <!-- Print and PDF buttons -->
    <div class="buttons">
      <button (click)="printToPdf()">Print</button>
      <button id="pdfBtn" (click)="downloadPdf()">Download PDF</button>
    </div>
  
    <br>
  
    <!-- Display budget report if available -->
    <div class="container" *ngIf="incomeNumber > 0  || expenseNumber > 0; else noReport" id="pdf">
      <header class="header">
        <h2>West End Arena Hotel & Restaurant</h2>
        <p>Budget Report for Date: {{createForm.value.dates | date:'MMMM d, yyyy'}}</p>
        <!-- <p>Date: {{createForm.value.dates | date:'MMMM d, yyyy'}}</p> -->
      </header>
  
      <!-- Income Section -->
      <section class="report-details">
        <h3>Income</h3>
        <table class="income-table">
          <thead>
            <tr>
              <th>Income Category</th>
              <th>Amount (₵)</th>
              <th>Breakdown</th> 
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of incomeReport">
              <td>{{item.name}}</td>
              <td>{{item.amount | currency:'₵'}}</td> <!-- Changed to Cedi -->
              <td>{{item.note}}</td>
            </tr>
          </tbody>
          <tfoot>
            <tr class="total-row">
              <td><strong>Total Income</strong></td>
              <td><strong>{{totalIncome | currency:'₵'}}</strong></td> <!-- Changed to Cedi -->
            </tr>
          </tfoot>
        </table>
      </section>
  
      <!-- Expenditure Section -->
      <section class="report-details">
        <h3>Expenditure</h3>
        <table class="income-table">
          <thead>
            <tr>
              <th>Expenditure Category</th>
              <th>Amount (₵)</th> <!-- Changed to Cedi -->
              <th>Breakdown</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of expenditureReport">
              <td>{{item.name}}</td>
              <td>{{item.amount | currency:'₵'}}</td> <!-- Changed to Cedi -->
              <td>{{item.note}}</td>
            </tr>
          </tbody>
          <tfoot>
            <tr class="total-row">
              <td><strong>Total Expenditure</strong></td>
              <td><strong>{{totalExpenditure | currency:'₵'}}</strong></td> <!-- Changed to Cedi -->
            </tr>
          </tfoot>
        </table>
      </section>
  
      <!-- Cash at Hand Section -->
      <section class="report-details">
        <footer class="footer">
          <p>Generated by: <strong>{{user[0].firstname + " " + user[0].lastname}}</strong></p>
          <p>Signature: __________________________</p>
        </footer>
      </section>
    </div>
  
    <!-- Message to display when no report is available -->
    <ng-template #noReport>
      <div class="container">
        <p>No records found for the selected date.</p>
      </div>
    </ng-template>
  </div>
  